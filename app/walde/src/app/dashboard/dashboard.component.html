
<app-profile></app-profile>

<div class="max-w-6xl mx-auto px-6 py-10">
  <!-- Header -->
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-2xl font-bold text-gray-800">My Projects</h2>
    <button
      (click)="createNewProject()"
      class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium shadow"
    >
      + Create New
    </button>
  </div>
  
  <app-create-project-modal *ngIf="showCreateModal" (closeModal)="showCreateModal = false"></app-create-project-modal>

  <!-- Projects Grid -->
  <div *ngIf="projects!.length > 0; else noProjects">
    <div class="grid gap-6 sm:grid-cols-2 md:grid-cols-3">
      <div
        *ngFor="let project of projects"
        class="bg-white shadow-md rounded-lg p-4 cursor-pointer hover:shadow-lg transition"
        (click)="goToBuild(project.id)"
      >
        <h3 class="text-lg font-semibold text-gray-800">{{ project.repoName }}</h3>
        <p class="text-sm text-gray-500 truncate">Branch: {{ project.branch }}</p>
        <p class="text-sm text-gray-400 truncate">Status: {{ project.status }}</p>
      </div>
    </div>
  </div>

  <!-- No Projects Placeholder -->
  <ng-template #noProjects>
    <div class="text-center text-gray-500 mt-10">
      <p>You have no builds yet. Click <strong>+ Create New</strong> to get started.</p>
    </div>
  </ng-template>
</div>
